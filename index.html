<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>KhelBharat - Athlete Records Management</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="topbar">
        <h1>KhelBharat</h1>
        <nav class="nav-tabs">
            <button class="tab-btn active" data-target="athlete-panel">Athlete</button>
            <button class="tab-btn" data-target="coach-panel">Coach</button>
            <button class="tab-btn" data-target="admin-panel">Admin</button>
        </nav>
    </header>

    <main class="container">
        <!-- ATHLETE PANEL -->
        <section id="athlete-panel" class="panel active">
            <h2>Athlete Dashboard</h2>

            <div class="grid">
                <!-- Athlete Profile -->
                <div class="card">
                    <h3>My Profile</h3>

                    <!-- Login-like switcher -->
                    <label>
                        Login as Athlete:
                        <select id="athleteLoginSelect"></select>
                    </label>

                    <div id="athleteProfileView">
                        <p><strong>Name:</strong> <span id="athleteName"></span></p>
                        <p><strong>Age:</strong> <span id="athleteAge"></span></p>
                        <p><strong>Sport:</strong> <span id="athleteSport"></span></p>
                        <p><strong>Country:</strong> <span id="athleteCountry"></span></p>
                        <button id="editProfileBtn">Edit Profile</button>
                    </div>

                    <form id="athleteProfileForm" class="hidden">
                        <label>
                            Name:
                            <input type="text" id="inputName">
                        </label>
                        <label>
                            Age:
                            <input type="number" id="inputAge">
                        </label>
                        <label>
                            Sport:
                            <input type="text" id="inputSport">
                        </label>
                        <label>
                            Country:
                            <input type="text" id="inputCountry">
                        </label>
                        <div class="form-actions">
                            <button type="submit">Save</button>
                            <button type="button" id="cancelEditBtn">Cancel</button>
                        </div>
                    </form>
                </div>

                <!-- Ranking Table (Athlete View) -->
                <div class="card">
                    <h3>Overall Ranking</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Rank</th>
                                <th>Name</th>
                                <th>Sport</th>
                                <th>Country</th>
                                <th>Points</th>
                            </tr>
                        </thead>
                        <tbody id="athleteRankingTable"></tbody>
                    </table>
                    <p class="hint">Your row is highlighted.</p>
                </div>

                <!-- NEW: Injury & Health status (Athlete view) -->
                <div class="card">
                    <h3>Injury & Health</h3>
                    <p class="hint">View your current injuries and prevention tips.</p>
                    <ul id="athleteInjuryList" class="simple-list"></ul>
                    <p><strong>Prevention Notes:</strong></p>
                    <p id="athletePreventionNotes" class="small-text"></p>
                </div>

                <!-- NEW: Career & Finance snapshot (Athlete view) -->
                <div class="card">
                    <h3>Career & Finance Snapshot</h3>
                    <p><strong>Career Level:</strong> <span id="athleteCareerLevel"></span></p>
                    <p><strong>Next Goal / Milestone:</strong></p>
                    <p id="athleteNextGoal" class="small-text"></p>
                    <hr style="margin: 0.6rem 0;">
                    <p><strong>Monthly Stipend:</strong> <span id="athleteStipend"></span></p>
                    <p><strong>Sponsorship:</strong> <span id="athleteSponsorship"></span></p>
                    <p><strong>Total Monthly Support:</strong> <span id="athleteTotalSupport"></span></p>
                </div>
            </div>
        </section>

        <!-- COACH PANEL -->
        <section id="coach-panel" class="panel">
            <h2>Coach Dashboard</h2>
            <div class="grid">
                <div class="card">
                    <h3>Athlete Rankings</h3>

                    <!-- Filter by sport (Coach) -->
                    <div class="toolbar">
                        <label>
                            Filter by sport:
                            <input type="text" id="coachSportFilter" placeholder="e.g. 100m, Long Jump">
                        </label>
                    </div>

                    <table>
                        <thead>
                            <tr>
                                <th>Rank</th>
                                <th>Name</th>
                                <th>Sport</th>
                                <th>Points</th>
                            </tr>
                        </thead>
                        <tbody id="coachRankingTable"></tbody>
                    </table>
                </div>

                <div class="card">
                    <h3>Update Performance & Notes</h3>
                    <form id="coachUpdateForm">
                        <label>
                            Select Athlete:
                            <select id="coachAthleteSelect"></select>
                        </label>
                        <label>
                            New Points:
                            <input type="number" id="coachPointsInput" min="0">
                        </label>

                        <!-- NEW: performance metric tracking -->
                        <label>
                            Performance Metric (time / distance / score):
                            <input type="text" id="coachPerformanceMetric" placeholder="e.g. 100m - 10.6s">
                        </label>
                        <label>
                            Date:
                            <input type="date" id="coachPerformanceDate">
                        </label>
                        <label>
                            Notes:
                            <input type="text" id="coachPerformanceNotes" placeholder="e.g. personal best, windy conditions">
                        </label>

                        <button type="submit">Save Performance</button>
                    </form>

                    <h3 style="margin-top: 1.5rem;">Recent Performance History</h3>
                    <ul id="coachPerformanceList" class="simple-list"></ul>

                    <h3 style="margin-top: 1.5rem;">Training Notes</h3>
                    <textarea id="trainingNotes" rows="5" placeholder="Write training plan / notes here..."></textarea>
                </div>

                <!-- NEW: Injury tracking for coaches -->
                <div class="card">
                    <h3>Injury Tracking</h3>
                    <form id="coachInjuryForm">
                        <label>
                            Athlete:
                            <select id="coachInjuryAthleteSelect"></select>
                        </label>
                        <label>
                            Injury Type / Body Part:
                            <input type="text" id="injuryTypeInput" placeholder="e.g. Hamstring strain">
                        </label>
                        <label>
                            Severity:
                            <select id="injurySeverityInput">
                                <option value="Minor">Minor</option>
                                <option value="Moderate">Moderate</option>
                                <option value="Severe">Severe</option>
                            </select>
                        </label>
                        <label>
                            Status:
                            <select id="injuryStatusInput">
                                <option value="Under Treatment">Under Treatment</option>
                                <option value="Rehab">Rehab</option>
                                <option value="Cleared">Cleared</option>
                            </select>
                        </label>
                        <label>
                            Start Date:
                            <input type="date" id="injuryStartDateInput">
                        </label>
                        <label>
                            Notes:
                            <input type="text" id="injuryNotesInput" placeholder="e.g. Avoid sprinting for 2 weeks">
                        </label>
                        <button type="submit">Add / Update Injury</button>
                    </form>

                    <h3 style="margin-top: 1rem;">Current Injuries</h3>
                    <ul id="coachInjuryList" class="simple-list"></ul>
                </div>
            </div>
        </section>

        <!-- ADMIN PANEL -->
        <section id="admin-panel" class="panel">
            <h2>Admin Panel</h2>
            <div class="grid">
                <div class="card">
                    <h3>Add New Athlete</h3>
                    <form id="adminAddForm">
                        <label>
                            Name:
                            <input type="text" id="adminNameInput" required>
                        </label>
                        <label>
                            Age:
                            <input type="number" id="adminAgeInput" required min="10">
                        </label>
                        <label>
                            Sport:
                            <input type="text" id="adminSportInput" required>
                        </label>
                        <label>
                            Country:
                            <input type="text" id="adminCountryInput" required>
                        </label>
                        <label>
                            Points:
                            <input type="number" id="adminPointsInput" required min="0">
                        </label>

                        <!-- NEW: career & finance fields -->
                        <label>
                            Career Level:
                            <input type="text" id="adminCareerLevelInput" placeholder="e.g. State / National / International">
                        </label>
                        <label>
                            Next Goal / Milestone:
                            <input type="text" id="adminNextGoalInput" placeholder="e.g. Qualify for Nationals">
                        </label>
                        <label>
                            Monthly Stipend (₹):
                            <input type="number" id="adminStipendInput" min="0" placeholder="e.g. 20000">
                        </label>
                        <label>
                            Sponsorship (₹):
                            <input type="number" id="adminSponsorshipInput" min="0" placeholder="e.g. 15000">
                        </label>

                        <button type="submit">Add Athlete</button>
                    </form>
                </div>

                <div class="card">
                    <h3>All Athletes</h3>

                    <!-- Filter by sport (Admin) -->
                    <div class="toolbar">
                        <label>
                            Filter by sport:
                            <input type="text" id="adminSportFilter" placeholder="e.g. High Jump">
                        </label>
                    </div>

                    <table>
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Name</th>
                                <th>Sport</th>
                                <th>Country</th>
                                <th>Points</th>
                                <!-- NEW: status & finance overview -->
                                <th>Career Level</th>
                                <th>Injury Status</th>
                                <th>Monthly Support (₹)</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="adminAthleteTable"></tbody>
                    </table>

                    <!-- NEW: total payout -->
                    <p class="hint" id="totalSupportText"></p>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>KhelBharat &copy; 2025</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
