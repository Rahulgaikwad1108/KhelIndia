<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>KhelBharat - Athlete Records Management</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="topbar">
        <h1>KhelBharat</h1>
        <div class="topbar-right">
            <div class="theme-toggle">
                <button id="themeToggleBtn">ðŸŒ™ Dark</button>
            </div>
            <nav class="nav-tabs">
                <button class="tab-btn active" data-target="athlete-panel">Athlete</button>
                <button class="tab-btn" data-target="coach-panel">Coach</button>
                <button class="tab-btn" data-target="admin-panel">Admin</button>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- GLOBAL SEARCH + COMPARE TOOLBAR -->
        <div class="toolbar global-toolbar">
            <input
                type="text"
                id="globalSearchInput"
                placeholder="Search athletes by name, sport, or country..."
            >
            <div class="compare-controls">
                <label>
                    <select id="compareSelectA"></select>
                </label>
                <span>vs</span>
                <label>
                    <select id="compareSelectB"></select>
                </label>
                <button id="compareBtn">Compare</button>
            </div>
        </div>

        <!-- ATHLETE PANEL -->
        <section id="athlete-panel" class="panel active">
            <h2>Athlete Dashboard</h2>

            <div class="grid">
                <!-- Athlete Profile -->
                <div class="card">
                    <h3>My Profile</h3>

                    <!-- Login-like switcher -->
                    <label>
                        Login as Athlete:
                        <select id="athleteLoginSelect"></select>
                    </label>

                    <!-- Avatar + upload -->
                    <div class="avatar-section">
                        <div id="athleteAvatar" class="avatar">A</div>
                        <label class="avatar-upload-label">
                            Profile Photo:
                            <input type="file" id="avatarInput" accept="image/*">
                        </label>
                    </div>

                    <div id="athleteProfileView">
                        <p><strong>Name:</strong> <span id="athleteName"></span></p>
                        <p><strong>Age:</strong> <span id="athleteAge"></span></p>
                        <p><strong>Sport:</strong> <span id="athleteSport"></span></p>
                        <p><strong>Country:</strong> <span id="athleteCountry"></span></p>
                        <p><strong>Gender:</strong> <span id="athleteGender"></span></p>

                        <p style="margin-top:0.6rem;"><strong>Profile Completion:</strong></p>
                        <div class="completion-bar-wrapper">
                            <div id="completionBar" class="completion-bar"></div>
                        </div>
                        <p class="small-text" id="completionText"></p>

                        <button id="editProfileBtn" style="margin-top:0.75rem;">Edit Profile</button>
                    </div>

                    <form id="athleteProfileForm" class="hidden">
                        <label>
                            Name:
                            <input type="text" id="inputName">
                        </label>
                        <label>
                            Age:
                            <input type="number" id="inputAge">
                        </label>
                        <label>
                            Sport:
                            <input type="text" id="inputSport">
                        </label>
                        <label>
                            Country:
                            <input type="text" id="inputCountry">
                        </label>
                        <label>
                            Gender:
                            <select id="inputGender">
                                <option value="">Select gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </label>
                        <div class="form-actions">
                            <button type="submit">Save</button>
                            <button type="button" id="cancelEditBtn">Cancel</button>
                        </div>
                    </form>
                </div>

                <!-- Ranking Table (Athlete View) -->
                <div class="card">
                    <h3>Overall Ranking</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Rank</th>
                                <th>Name</th>
                                <th>Sport</th>
                                <th>Country</th>
                                <th>Points</th>
                            </tr>
                        </thead>
                        <tbody id="athleteRankingTable"></tbody>
                    </table>
                    <p class="hint">Click a row to view full details. Your row is highlighted.</p>
                </div>

                <!-- Injury & Health (Athlete view) -->
                <div class="card">
                    <h3>Injury & Health</h3>
                    <p class="hint">View your current injuries and prevention tips.</p>
                    <ul id="athleteInjuryList" class="simple-list"></ul>
                    <p><strong>Prevention Notes:</strong></p>
                    <p id="athletePreventionNotes" class="small-text"></p>
                </div>

                <!-- Career & Finance snapshot (Athlete view) -->
                <div class="card">
                    <h3>Career & Finance Snapshot</h3>
                    <p><strong>Career Level:</strong> <span id="athleteCareerLevel"></span></p>
                    <p><strong>Next Goal / Milestone:</strong></p>
                    <p id="athleteNextGoal" class="small-text"></p>
                    <hr style="margin: 0.6rem 0;">
                    <p><strong>Monthly Stipend:</strong> <span id="athleteStipend"></span></p>
                    <p><strong>Sponsorship:</strong> <span id="athleteSponsorship"></span></p>
                    <p><strong>Total Monthly Support:</strong> <span id="athleteTotalSupport"></span></p>
                </div>
            </div>
        </section>

        <!-- COACH PANEL -->
        <section id="coach-panel" class="panel">
            <h2>Coach Dashboard</h2>
            <div class="grid">
                <div class="card">
                    <h3>Athlete Rankings</h3>

                    <!-- Filter by sport (Coach) -->
                    <div class="toolbar">
                        <label>
                            Filter by sport:
                            <input type="text" id="coachSportFilter" placeholder="e.g. 100m, Long Jump">
                        </label>
                    </div>

                    <table>
                        <thead>
                            <tr>
                                <th>Rank</th>
                                <th>Name</th>
                                <th>Sport</th>
                                <th>Points</th>
                            </tr>
                        </thead>
                        <tbody id="coachRankingTable"></tbody>
                    </table>
                </div>

                <div class="card">
                    <h3>Update Performance & Notes</h3>
                    <form id="coachUpdateForm">
                        <label>
                            Select Athlete:
                            <select id="coachAthleteSelect"></select>
                        </label>
                        <label>
                            New Points:
                            <input type="number" id="coachPointsInput" min="0">
                        </label>
                        <label>
                            Performance Metric (time / distance / score):
                            <input type="text" id="coachPerformanceMetric" placeholder="e.g. 100m - 10.6s">
                        </label>
                        <label>
                            Date:
                            <input type="date" id="coachPerformanceDate">
                        </label>
                        <label>
                            Notes:
                            <input type="text" id="coachPerformanceNotes" placeholder="e.g. personal best, windy conditions">
                        </label>

                        <button type="submit">Save Performance</button>
                    </form>

                    <h3 style="margin-top: 1.5rem;">Recent Performance History</h3>
                    <ul id="coachPerformanceList" class="simple-list"></ul>

                    <h3 style="margin-top: 1.5rem;">Training Notes</h3>
                    <textarea id="trainingNotes" rows="5" placeholder="Write training plan / notes here..."></textarea>
                </div>

                <div class="card">
                    <h3>Injury Tracking</h3>
                    <form id="coachInjuryForm">
                        <label>
                            Athlete:
                            <select id="coachInjuryAthleteSelect"></select>
                        </label>
                        <label>
                            Injury Type / Body Part:
                            <input type="text" id="injuryTypeInput" placeholder="e.g. Hamstring strain">
                        </label>
                        <label>
                            Severity:
                            <select id="injurySeverityInput">
                                <option value="Minor">Minor</option>
                                <option value="Moderate">Moderate</option>
                                <option value="Severe">Severe</option>
                            </select>
                        </label>
                        <label>
                            Status:
                            <select id="injuryStatusInput">
                                <option value="Under Treatment">Under Treatment</option>
                                <option value="Rehab">Rehab</option>
                                <option value="Cleared">Cleared</option>
                            </select>
                        </label>
                        <label>
                            Start Date:
                            <input type="date" id="injuryStartDateInput">
                        </label>
                        <label>
                            Notes:
                            <input type="text" id="injuryNotesInput" placeholder="e.g. Avoid sprinting for 2 weeks">
                        </label>
                        <button type="submit">Add / Update Injury</button>
                    </form>

                    <h3 style="margin-top: 1rem;">Current Injuries</h3>
                    <ul id="coachInjuryList" class="simple-list"></ul>
                </div>
            </div>
        </section>

        <!-- ADMIN PANEL -->
        <section id="admin-panel" class="panel">
            <h2>Admin Panel</h2>
            <div class="grid">
                <div class="card">
                    <h3>Add New Athlete</h3>
                    <form id="adminAddForm">
                        <label>
                            Name:
                            <input type="text" id="adminNameInput" required>
                        </label>
                        <label>
                            Age:
                            <input type="number" id="adminAgeInput" required min="10">
                        </label>
                        <label>
                            Sport:
                            <input type="text" id="adminSportInput" required>
                        </label>
                        <label>
                            Country:
                            <input type="text" id="adminCountryInput" required>
                        </label>
                        <label>
                            Gender:
                            <select id="adminGenderInput" required>
                                <option value="">Select gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </label>
                        <label>
                            Points:
                            <input type="number" id="adminPointsInput" required min="0">
                        </label>

                        <label>
                            Career Level:
                            <input type="text" id="adminCareerLevelInput" placeholder="e.g. State / National / International">
                        </label>
                        <label>
                            Next Goal / Milestone:
                            <input type="text" id="adminNextGoalInput" placeholder="e.g. Qualify for Nationals">
                        </label>
                        <label>
                            Monthly Stipend (â‚¹):
                            <input type="number" id="adminStipendInput" min="0" placeholder="e.g. 20000">
                        </label>
                        <label>
                            Sponsorship (â‚¹):
                            <input type="number" id="adminSponsorshipInput" min="0" placeholder="e.g. 15000">
                        </label>

                        <button type="submit">Add Athlete</button>
                    </form>
                </div>

                <div class="card">
                    <h3>All Athletes</h3>

                    <div class="toolbar">
                        <label>
                            Filter by sport:
                            <input type="text" id="adminSportFilter" placeholder="e.g. High Jump">
                        </label>
                        <label>
                            Filter by gender:
                            <select id="adminGenderFilter">
                                <option value="All">All</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </label>
                    </div>

                    <table>
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Name</th>
                                <th>Sport</th>
                                <th>Country</th>
                                <th>Gender</th>
                                <th>Points</th>
                                <th>Career Level</th>
                                <th>Injury Status</th>
                                <th>Monthly Support (â‚¹)</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="adminAthleteTable"></tbody>
                    </table>

                    <p class="hint" id="totalSupportText"></p>
                    <p class="hint" id="genderStatsText"></p>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>KhelBharat &copy; 2025</p>
    </footer>

    <!-- ATHLETE DETAIL DRAWER -->
    <div id="athleteDrawer" class="drawer hidden">
        <div class="drawer-backdrop"></div>
        <div class="drawer-content">
            <button id="drawerCloseBtn" class="drawer-close">&times;</button>
            <h3 id="drawerName"></h3>
            <p><strong>Sport:</strong> <span id="drawerSport"></span></p>
            <p><strong>Country:</strong> <span id="drawerCountry"></span></p>
            <p><strong>Age:</strong> <span id="drawerAge"></span></p>
            <p><strong>Gender:</strong> <span id="drawerGender"></span></p>
            <p><strong>Points:</strong> <span id="drawerPoints"></span></p>
            <hr>
            <h4>Career</h4>
            <p><strong>Level:</strong> <span id="drawerCareerLevel"></span></p>
            <p><strong>Next Goal:</strong> <span id="drawerNextGoal"></span></p>
            <hr>
            <h4>Financial Overview</h4>
            <p><strong>Stipend:</strong> <span id="drawerStipend"></span></p>
            <p><strong>Sponsorship:</strong> <span id="drawerSponsorship"></span></p>
            <p><strong>Total Monthly Support:</strong> <span id="drawerTotalSupport"></span></p>
            <hr>
            <h4>Current Injuries</h4>
            <ul id="drawerInjuryList" class="simple-list"></ul>
            <h4>Recent Performances</h4>
            <ul id="drawerPerformanceList" class="simple-list"></ul>
        </div>
    </div>

    <!-- COMPARE TWO ATHLETES POPUP -->
    <div id="compareModal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <button id="compareCloseBtn" class="modal-close">&times;</button>
            <h3>Compare Athletes</h3>
            <div class="compare-grid">
                <div>
                    <h4 id="compareNameA"></h4>
                    <p><strong>Sport:</strong> <span id="compareSportA"></span></p>
                    <p><strong>Country:</strong> <span id="compareCountryA"></span></p>
                    <p><strong>Age:</strong> <span id="compareAgeA"></span></p>
                    <p><strong>Gender:</strong> <span id="compareGenderA"></span></p>
                    <p><strong>Points:</strong> <span id="comparePointsA"></span></p>
                    <p><strong>Career Level:</strong> <span id="compareCareerLevelA"></span></p>
                    <p><strong>Monthly Support:</strong> <span id="compareTotalSupportA"></span></p>
                    <p><strong>Injury Status:</strong> <span id="compareInjurySummaryA"></span></p>
                    <p><strong>Last Performance:</strong> <span id="compareLastPerformanceA"></span></p>
                </div>
                <div>
                    <h4 id="compareNameB"></h4>
                    <p><strong>Sport:</strong> <span id="compareSportB"></span></p>
                    <p><strong>Country:</strong> <span id="compareCountryB"></span></p>
                    <p><strong>Age:</strong> <span id="compareAgeB"></span></p>
                    <p><strong>Gender:</strong> <span id="compareGenderB"></span></p>
                    <p><strong>Points:</strong> <span id="comparePointsB"></span></p>
                    <p><strong>Career Level:</strong> <span id="compareCareerLevelB"></span></p>
                    <p><strong>Monthly Support:</strong> <span id="compareTotalSupportB"></span></p>
                    <p><strong>Injury Status:</strong> <span id="compareInjurySummaryB"></span></p>
                    <p><strong>Last Performance:</strong> <span id="compareLastPerformanceB"></span></p>
                </div>
            </div>
            <hr>
            <p class="small-text" id="compareSummaryText"></p>
        </div>
    </div>

    <!-- TOAST -->
    <div id="toast" class="toast hidden"></div>

    <script src="script.js"></script>
</body>
</html>
